{"ast":null,"code":"import _classCallCheck from\"/home/mau/Documents/Programming/usac_ivp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/mau/Documents/Programming/usac_ivp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/mau/Documents/Programming/usac_ivp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/mau/Documents/Programming/usac_ivp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from\"react\";import{Card,Container,Button}from\"react-bootstrap\";var news=/*#__PURE__*/function(_Component){_inherits(news,_Component);var _super=_createSuper(news);function news(props){var _this;_classCallCheck(this,news);_this=_super.call(this,props);_this.state={apiResponse:\"\"};return _this;}/* Get: data from backend server (from database)*/_createClass(news,[{key:\"callAPI\",value:function callAPI(){var _this2=this;fetch(\"http://localhost:3001/News\").then(function(res){return res.text();}).then(function(res){return _this2.setState({apiResponse:res});}).catch(function(err){return err;});}},{key:\"componentDidMount\",value:function componentDidMount(){this.callAPI();}},{key:\"parseData\",value:function parseData(){/* Parse data from string to JSON object */var str=this.state.apiResponse.replace('[','');str=str.replace(']','');var mylist=\"\",offset=0;for(var i=0;i<str.length;i++){if(offset){offset=0;continue;}if(str[i]==='}'&&i+1!==str.length){mylist+='}`';offset=1;}else{mylist+=str[i];}}var final=mylist.split('`');var myf=[];for(var i=0;i<final.length;i++){var committee=\"\",title=\"\",desc=\"\",date=\"\";var pos=final[i].indexOf('committee');var post=final[i].indexOf('title');var posd=final[i].indexOf('description');var posda=final[i].indexOf('date');for(var j=pos+12;j<final[i].length;j++){if(final[i][j]==='\"')break;else committee+=final[i][j];}for(var j=post+8;j<final[i].length;j++){if(final[i][j]==='\"')break;else title+=final[i][j];}for(var j=posd+14;j<final[i].length;j++){if(final[i][j]==='\"')break;else desc+=final[i][j];}for(var j=posda+7;j<final[i].length;j++){if(final[i][j]==='\"')break;else date+=final[i][j];}var obj={\"comm\":committee,\"title\":title,\"desc\":desc,\"date\":date};myf.push(obj);}return myf;}},{key:\"render\",value:function render(){/* Get the parsed data for news (list) */var parsedData=this.parseData();console.log(parsedData);/* Create the cards for each news in the database */var elements=parsedData.map(function(data){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Card,{className:\"text-center\",children:[/*#__PURE__*/_jsx(Card.Header,{children:data.comm}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:data.title}),/*#__PURE__*/_jsx(Card.Text,{children:data.desc}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",children:\"Learn more!\"})]}),/*#__PURE__*/_jsx(Card.Footer,{className:\"text-muted\",children:data.date})]}),/*#__PURE__*/_jsx(\"br\",{})]});});/* Render the news */return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Container,{id:\"mainDiv\",style:{\"margin-top\":\"5%\",\"margin-bottom\":\"5%\"},children:/*#__PURE__*/_jsx(\"ul\",{children:elements})})});}}]);return news;}(Component);export default news;","map":{"version":3,"sources":["/home/mau/Documents/Programming/usac_ivp/src/pages/news.js"],"names":["React","Component","Card","Container","Button","news","props","state","apiResponse","fetch","then","res","text","setState","catch","err","callAPI","str","replace","mylist","offset","i","length","final","split","myf","committee","title","desc","date","pos","indexOf","post","posd","posda","j","obj","push","parsedData","parseData","console","log","elements","map","data","comm"],"mappings":"osBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAASC,IAAT,CAAeC,SAAf,CAA0BC,MAA1B,KAAwC,iBAAxC,C,GAEMC,CAAAA,I,4FACF,cAAYC,KAAZ,CAAmB,sCACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CAAEC,WAAW,CAAE,EAAf,CAAb,CAFe,aAGlB,CAED,kD,0DACU,iBACNC,KAAK,CAAC,4BAAD,CAAL,CACKC,IADL,CACU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADb,EAEKF,IAFL,CAEU,SAAAC,GAAG,QAAI,CAAA,MAAI,CAACE,QAAL,CAAc,CAACL,WAAW,CAAEG,GAAd,CAAd,CAAJ,EAFb,EAGKG,KAHL,CAGW,SAAAC,GAAG,QAAIA,CAAAA,GAAJ,EAHd,EAIH,C,6DAEmB,CAChB,KAAKC,OAAL,GACH,C,6CAEU,CACP,2CACA,GAAIC,CAAAA,GAAG,CAAG,KAAKV,KAAL,CAAWC,WAAX,CAAuBU,OAAvB,CAA+B,GAA/B,CAAoC,EAApC,CAAV,CACAD,GAAG,CAAGA,GAAG,CAACC,OAAJ,CAAY,GAAZ,CAAiB,EAAjB,CAAN,CACA,GAAIC,CAAAA,MAAM,CAAG,EAAb,CAAiBC,MAAM,CAAG,CAA1B,CACA,IAAI,GAAIC,CAAAA,CAAC,CAAC,CAAV,CAAaA,CAAC,CAAEJ,GAAG,CAACK,MAApB,CAA4BD,CAAC,EAA7B,CAAgC,CAC5B,GAAID,MAAJ,CAAY,CAACA,MAAM,CAAG,CAAT,CAAY,SAAU,CACnC,GAAIH,GAAG,CAACI,CAAD,CAAH,GAAW,GAAX,EAAkBA,CAAC,CAAC,CAAF,GAAQJ,GAAG,CAACK,MAAlC,CAAyC,CAACH,MAAM,EAAI,IAAV,CAAeC,MAAM,CAAG,CAAT,CAAY,CAArE,IACI,CAACD,MAAM,EAAIF,GAAG,CAACI,CAAD,CAAb,CAAkB,CAC1B,CACD,GAAIE,CAAAA,KAAK,CAAGJ,MAAM,CAACK,KAAP,CAAa,GAAb,CAAZ,CAA+B,GAAIC,CAAAA,GAAG,CAAG,EAAV,CAC/B,IAAI,GAAIJ,CAAAA,CAAC,CAAC,CAAV,CAAaA,CAAC,CAAGE,KAAK,CAACD,MAAvB,CAA+BD,CAAC,EAAhC,CAAmC,CAC/B,GAAIK,CAAAA,SAAS,CAAE,EAAf,CAAmBC,KAAK,CAAC,EAAzB,CAA6BC,IAAI,CAAC,EAAlC,CAAsCC,IAAI,CAAC,EAA3C,CAEA,GAAIC,CAAAA,GAAG,CAAGP,KAAK,CAACF,CAAD,CAAL,CAASU,OAAT,CAAiB,WAAjB,CAAV,CACA,GAAIC,CAAAA,IAAI,CAAGT,KAAK,CAACF,CAAD,CAAL,CAASU,OAAT,CAAiB,OAAjB,CAAX,CACA,GAAIE,CAAAA,IAAI,CAAGV,KAAK,CAACF,CAAD,CAAL,CAASU,OAAT,CAAiB,aAAjB,CAAX,CACA,GAAIG,CAAAA,KAAK,CAAGX,KAAK,CAACF,CAAD,CAAL,CAASU,OAAT,CAAiB,MAAjB,CAAZ,CAEA,IAAI,GAAII,CAAAA,CAAC,CAACL,GAAG,CAAC,EAAd,CAAkBK,CAAC,CAAEZ,KAAK,CAACF,CAAD,CAAL,CAASC,MAA9B,CAAsCa,CAAC,EAAvC,CAA0C,CACtC,GAAIZ,KAAK,CAACF,CAAD,CAAL,CAASc,CAAT,IAAgB,GAApB,CAAyB,MAAzB,IACKT,CAAAA,SAAS,EAAIH,KAAK,CAACF,CAAD,CAAL,CAASc,CAAT,CAAb,CACR,CAED,IAAI,GAAIA,CAAAA,CAAC,CAACH,IAAI,CAAC,CAAf,CAAkBG,CAAC,CAAEZ,KAAK,CAACF,CAAD,CAAL,CAASC,MAA9B,CAAsCa,CAAC,EAAvC,CAA0C,CACtC,GAAIZ,KAAK,CAACF,CAAD,CAAL,CAASc,CAAT,IAAgB,GAApB,CAAyB,MAAzB,IACKR,CAAAA,KAAK,EAAIJ,KAAK,CAACF,CAAD,CAAL,CAASc,CAAT,CAAT,CACR,CAED,IAAI,GAAIA,CAAAA,CAAC,CAACF,IAAI,CAAC,EAAf,CAAmBE,CAAC,CAAEZ,KAAK,CAACF,CAAD,CAAL,CAASC,MAA/B,CAAuCa,CAAC,EAAxC,CAA2C,CACvC,GAAIZ,KAAK,CAACF,CAAD,CAAL,CAASc,CAAT,IAAgB,GAApB,CAAyB,MAAzB,IACKP,CAAAA,IAAI,EAAIL,KAAK,CAACF,CAAD,CAAL,CAASc,CAAT,CAAR,CACR,CAED,IAAI,GAAIA,CAAAA,CAAC,CAACD,KAAK,CAAC,CAAhB,CAAmBC,CAAC,CAAEZ,KAAK,CAACF,CAAD,CAAL,CAASC,MAA/B,CAAuCa,CAAC,EAAxC,CAA2C,CACvC,GAAIZ,KAAK,CAACF,CAAD,CAAL,CAASc,CAAT,IAAgB,GAApB,CAAyB,MAAzB,IACKN,CAAAA,IAAI,EAAIN,KAAK,CAACF,CAAD,CAAL,CAASc,CAAT,CAAR,CACR,CAED,GAAIC,CAAAA,GAAG,CAAG,CACN,OAAQV,SADF,CAEN,QAASC,KAFH,CAGN,OAAQC,IAHF,CAIN,OAAQC,IAJF,CAAV,CAMAJ,GAAG,CAACY,IAAJ,CAASD,GAAT,EACH,CACD,MAAOX,CAAAA,GAAP,CACH,C,uCAEQ,CAEL,yCACA,GAAIa,CAAAA,UAAU,CAAG,KAAKC,SAAL,EAAjB,CACAC,OAAO,CAACC,GAAR,CAAYH,UAAZ,EAEA,oDACA,GAAMI,CAAAA,QAAQ,CAAGJ,UAAU,CAACK,GAAX,CAAe,SAACC,IAAD,qBAC5B,oCACI,MAAC,IAAD,EAAM,SAAS,CAAC,aAAhB,wBACI,KAAC,IAAD,CAAM,MAAN,WAAcA,IAAI,CAACC,IAAnB,EADJ,cAEI,MAAC,IAAD,CAAM,IAAN,yBACI,KAAC,IAAD,CAAM,KAAN,WAAaD,IAAI,CAACjB,KAAlB,EADJ,cAEI,KAAC,IAAD,CAAM,IAAN,WACKiB,IAAI,CAAChB,IADV,EAFJ,cAKI,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,yBALJ,GAFJ,cASI,KAAC,IAAD,CAAM,MAAN,EAAa,SAAS,CAAC,YAAvB,UAAqCgB,IAAI,CAACf,IAA1C,EATJ,GADJ,cAYI,aAZJ,GAD4B,EAAf,CAAjB,CAiBA,qBACA,mBACI,kCACI,KAAC,SAAD,EAAW,EAAE,CAAC,SAAd,CAAwB,KAAK,CAAE,CAAE,aAAc,IAAhB,CAAsB,gBAAiB,IAAvC,CAA/B,uBACI,oBACKa,QADL,EADJ,EADJ,EADJ,CAUH,C,kBAvGczC,S,EA0GnB,cAAeI,CAAAA,IAAf","sourcesContent":["import React, {Component} from \"react\";\nimport { Card, Container, Button } from \"react-bootstrap\";\n\nclass news extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { apiResponse: \"\" };\n    }\n\n    /* Get: data from backend server (from database)*/\n    callAPI() {\n        fetch(\"http://localhost:3001/News\")\n            .then(res => res.text())\n            .then(res => this.setState({apiResponse: res}))\n            .catch(err => err);\n    }\n\n    componentDidMount() {\n        this.callAPI();\n    }\n\n    parseData(){\n        /* Parse data from string to JSON object */\n        var str = this.state.apiResponse.replace('[', '');\n        str = str.replace(']', '');\n        var mylist = \"\", offset = 0;\n        for(var i=0; i< str.length; i++){\n            if (offset) {offset = 0; continue;}\n            if (str[i] === '}' && i+1 !== str.length){mylist += '}`';offset = 1;}\n            else{mylist += str[i];}\n        }\n        var final = mylist.split('`'); var myf = [];\n        for(var i=0; i < final.length; i++){\n            var committee =\"\", title=\"\", desc=\"\", date=\"\";\n\n            var pos = final[i].indexOf('committee');\n            var post = final[i].indexOf('title');\n            var posd = final[i].indexOf('description')\n            var posda = final[i].indexOf('date');\n\n            for(var j=pos+12; j< final[i].length; j++){\n                if (final[i][j] === '\"') break;\n                else committee += final[i][j];\n            }\n\n            for(var j=post+8; j< final[i].length; j++){\n                if (final[i][j] === '\"') break;\n                else title += final[i][j];\n            }\n\n            for(var j=posd+14; j< final[i].length; j++){\n                if (final[i][j] === '\"') break;\n                else desc += final[i][j];\n            }\n\n            for(var j=posda+7; j< final[i].length; j++){\n                if (final[i][j] === '\"') break;\n                else date += final[i][j];\n            }\n\n            var obj = {\n                \"comm\": committee,\n                \"title\": title,\n                \"desc\": desc,\n                \"date\": date\n            }\n            myf.push(obj);\n        }\n        return myf;\n    }\n\n    render() {\n\n        /* Get the parsed data for news (list) */\n        var parsedData = this.parseData();\n        console.log(parsedData);\n\n        /* Create the cards for each news in the database */\n        const elements = parsedData.map((data) =>\n            <div>\n                <Card className=\"text-center\">\n                    <Card.Header>{data.comm}</Card.Header>\n                    <Card.Body>\n                        <Card.Title>{data.title}</Card.Title>\n                        <Card.Text>\n                            {data.desc}\n                        </Card.Text>\n                        <Button variant=\"primary\">Learn more!</Button>\n                    </Card.Body>\n                    <Card.Footer className=\"text-muted\">{data.date}</Card.Footer>\n                </Card>\n                <br/>\n            </div>\n        );\n\n        /* Render the news */\n        return (\n            <div>\n                <Container id=\"mainDiv\" style={{ \"margin-top\": \"5%\", \"margin-bottom\": \"5%\" }}>\n                    <ul>\n                        {elements}\n                    </ul>\n                </Container>\n            </div>\n\n        );\n    }\n}\n\nexport default news;"]},"metadata":{},"sourceType":"module"}